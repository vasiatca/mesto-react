{"version":3,"sources":["utils/constants.js","utils/api.js","components/Footer.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["apiSettings","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponseData","name","about","body","JSON","stringify","link","avatar","cardId","isLiked","unlike","like","authorization","Footer","className","Date","getFullYear","Header","src","logo","alt","CurrentUserContext","createContext","Card","props","currentUser","useContext","currentUserContext","isOwn","owner","_id","isLikes","likes","some","own","image","onClick","onCardClick","type","onDeleteClick","onLikeClick","likesCount","Main","onEditAvatar","id","onEditProfile","onAddPlace","cards","map","item","length","onCardLike","onCardDelete","ImagePopup","Object","values","card","onClose","PopupWithForm","isOpen","title","onSubmit","action","noValidate","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","minLength","maxLength","value","onChange","target","required","EditAvatarPopup","avatarRef","createRef","current","onUpdateAvatar","ref","AddPlacePopup","nameRef","linkRef","onAddCard","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","closeAllPopups","a","getUser","userInfo","getInitialCards","console","log","fetchData","Provider","changeLikeCardStatus","newCard","state","c","deleteCard","filter","editUser","newUser","updateAvatar","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.355ed276.chunk.js","sourcesContent":["const apiSettings = {\r\n  token: 'b727ff79-51c9-4709-92ae-f78ccb7732a6',\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-23'\r\n};\r\n\r\nexport {\r\n  apiSettings\r\n}","import { apiSettings } from \"./constants\";\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    return res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  getUser() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  editUser({ name, about }) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  updateAvatar(link) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: link,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  addNewCard({ name, link }) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    if (isLiked) {\r\n      return this.unlike(cardId);\r\n    } else {\r\n      return this.like(cardId);\r\n    }\r\n  }\r\n\r\n  like(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"PUT\",\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  unlike(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) => this._getResponseData(res));\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: apiSettings.baseUrl,\r\n  headers: {\r\n    authorization: apiSettings.token,\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;","const Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import logo from \"../images/logo.svg\";\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import { createContext } from \"react\";\r\n\r\nconst CurrentUserContext = createContext();\r\nexport default CurrentUserContext;","import { useContext } from \"react\";\r\nimport currentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nconst Card = (props) => {\r\n  const currentUser = useContext(currentUserContext);\r\n  const isOwn = props.owner._id === currentUser._id;\r\n  const isLikes = props.likes.some((own) => own._id === currentUser._id);\r\n\r\n  return (\r\n    <li className=\"element__card\">\r\n      <img\r\n        className=\"element__image\"\r\n        src={props.image}\r\n        onClick={props.onCardClick}\r\n        alt=\"Фото\"\r\n      />\r\n      <button\r\n        type=\"button\"\r\n        onClick={props.onDeleteClick}\r\n        className={`element__delete ${isOwn ? \"element__delete_visible\" : \"\"}`}\r\n      />\r\n      <div className=\"element__info\">\r\n        <h3 className=\"element__title\">{props.name}</h3>\r\n        <div className=\"element__like-group\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={props.onLikeClick}\r\n            className={`element__like ${isLikes ? \"element__like_active\" : \"\"}`}\r\n          />\r\n          <p className=\"element__like-number\">{props.likesCount}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Card;","import { useContext } from \"react\";\r\nimport currentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nimport Card from \"./Card\";\r\n\r\nconst Main = (props) => {\r\n\tconst currentUser = useContext(currentUserContext);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<section className=\"profile\">\r\n\t\t\t\t<div className=\"profile__content\">\r\n\t\t\t\t\t<div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"profile__avatar\"\r\n\t\t\t\t\t\t\tsrc={currentUser.avatar}\r\n\t\t\t\t\t\t\talt=\"Фото\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"profile__info\">\r\n\t\t\t\t\t\t<div className=\"profile__item\">\r\n\t\t\t\t\t\t\t<div className=\"profile__item-inner\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"profile__title\">{currentUser.name}</h1>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tid=\"edit-popup\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"profile__edit-button\"\r\n\t\t\t\t\t\t\t\t\tonClick={props.onEditProfile}\r\n\t\t\t\t\t\t\t\t></button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p className=\"profile__subtitle\">{currentUser.about}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tid=\"add-popup\"\r\n\t\t\t\t\tclassName=\"profile__add-button\"\r\n\t\t\t\t\tonClick={props.onAddPlace}\r\n\t\t\t\t></button>\r\n\t\t\t</section>\r\n\r\n\t\t\t<section className=\"elements\">\r\n\t\t\t\t<ul className=\"element\">\r\n\t\t\t\t\t{props.cards.map((item) => (\r\n\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\tkey={item._id}\r\n\t\t\t\t\t\t\towner={item.owner}\r\n\t\t\t\t\t\t\timage={item.link}\r\n\t\t\t\t\t\t\tname={item.name}\r\n\t\t\t\t\t\t\tlikes={item.likes}\r\n\t\t\t\t\t\t\tlikesCount={item.likes.length}\r\n\t\t\t\t\t\t\tonCardClick={() => props.onCardClick(item)}\r\n\t\t\t\t\t\t\tonLikeClick={() => props.onCardLike(item)}\r\n\t\t\t\t\t\t\tonDeleteClick={() => props.onCardDelete(item)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</ul>\r\n\t\t\t</section>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Main;","const ImagePopup = (props) => {\r\n\treturn (\r\n\t\t<div className={`popup popup_picture ${Object.values(props.card).length ? 'popup_opened' : ''}`}>\r\n\t\t\t<div className=\"popup__container popup__container_picture\">\r\n\t\t\t\t<button type=\"button\" className=\"popup__close\" onClick={props.onClose} />\r\n\t\t\t\t<img src={props.card.link} alt=\"Картинка\" className=\"popup__picture\" />\r\n\t\t\t\t<div className=\"popup__picture-caption\">{props.card.name}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default ImagePopup;","const PopupWithForm = (props) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\" : \"\"\r\n\t\t\t\t}`}\r\n\t\t>\r\n\t\t\t<div className=\"popup__container\">\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"popup__close\"\r\n\t\t\t\t\tonClick={props.onClose}\r\n\t\t\t\t></button>\r\n\t\t\t\t<h2 className=\"popup__title\">{props.title}</h2>\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName=\"popup__content\"\r\n\t\t\t\t\tname={props.name}\r\n\t\t\t\t\tonSubmit={props.onSubmit}\r\n\t\t\t\t\taction=\"#\"\r\n\t\t\t\t\tnoValidate\r\n\t\t\t\t>\r\n\t\t\t\t\t{props.children}\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PopupWithForm;","import { useContext, useEffect, useState } from \"react\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst EditProfilePopup = (props) => {\r\n\tconst currentUser = useContext(CurrentUserContext);\r\n\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [description, setDescription] = useState(\"\");\r\n\r\n\tconst handleChangeName = (e) => setName(e.target.value);\r\n\tconst handleChangeDescription = (e) => setDescription(e.target.value);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (currentUser.name) {\r\n\t\t\tsetName(currentUser.name);\r\n\t\t}\r\n\r\n\t\tif (currentUser.about) {\r\n\t\t\tsetDescription(currentUser.about);\r\n\t\t}\r\n\t}, [currentUser]);\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tprops.onUpdateUser({\r\n\t\t\tname,\r\n\t\t\tabout: description,\r\n\t\t});\r\n\t\tsetName(\"\");\r\n\t\tsetDescription(\"\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"edit-profile\"\r\n\t\t\ttitle=\"Редактировать профиль\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\tchildren={\r\n\t\t\t\t<>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"popup__field\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\tplaceholder=\"Имя\"\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"40\"\r\n\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\tonChange={handleChangeName}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"popup__error\"></span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"popup__field\"\r\n\t\t\t\t\t\tname=\"about\"\r\n\t\t\t\t\t\tplaceholder=\"О себе\"\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"200\"\r\n\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\tonChange={handleChangeDescription}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"popup__error\"></span>\r\n\t\t\t\t\t<button type=\"submit\" className=\"popup__submit-button\">\r\n\t\t\t\t\t\tСохранить\r\n          </button>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default EditProfilePopup;","import { createRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst EditAvatarPopup = (props) => {\r\n\tconst avatarRef = createRef();\r\n\r\n\tconst handleSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst avatar = avatarRef.current.value;\r\n\r\n\t\tprops.onUpdateAvatar({\r\n\t\t\tavatar,\r\n\t\t});\r\n\t\tavatarRef.current.value = \"\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"update-avatar\"\r\n\t\t\ttitle=\"Обновить аватар\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n\t\t\tchildren={\r\n\t\t\t\t<>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\tclassName=\"popup__field\"\r\n\t\t\t\t\t\tname=\"avatar\"\r\n\t\t\t\t\t\tplaceholder=\"Ссылка\"\r\n\t\t\t\t\t\tref={avatarRef}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"popup__error\"></span>\r\n\t\t\t\t\t<button type=\"submit\" className=\"popup__submit-button\">\r\n\t\t\t\t\t\tСохранить\r\n          </button>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default EditAvatarPopup;","import { createRef } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nconst AddPlacePopup = (props) => {\r\n\tconst nameRef = createRef();\r\n\tconst linkRef = createRef();\r\n\r\n\tconst handleSumbit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst name = nameRef.current.value;\r\n\t\tconst link = linkRef.current.value;\r\n\r\n\t\tprops.onAddCard({\r\n\t\t\tname,\r\n\t\t\tlink,\r\n\t\t});\r\n\r\n\t\tnameRef.current.value = \"\";\r\n\t\tlinkRef.current.value = \"\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<PopupWithForm\r\n\t\t\tname=\"add-place\"\r\n\t\t\ttitle=\"Новое место\"\r\n\t\t\tisOpen={props.isOpen}\r\n\t\t\tonClose={props.onClose}\r\n\t\t\tonSubmit={handleSumbit}\r\n\t\t\tchildren={\r\n\t\t\t\t<>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tclassName=\"popup__field\"\r\n\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\tplaceholder=\"Место\"\r\n\t\t\t\t\t\tminLength=\"2\"\r\n\t\t\t\t\t\tmaxLength=\"30\"\r\n\t\t\t\t\t\tref={nameRef}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"popup__error\"></span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"url\"\r\n\t\t\t\t\t\tclassName=\"popup__field\"\r\n\t\t\t\t\t\tname=\"link\"\r\n\t\t\t\t\t\tplaceholder=\"Ссылка\"\r\n\t\t\t\t\t\tref={linkRef}\r\n\t\t\t\t\t\trequired\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span className=\"popup__error\"></span>\r\n\t\t\t\t\t<button type=\"submit\" className=\"popup__submit-button\">\r\n\t\t\t\t\t\tСоздать\r\n          </button>\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default AddPlacePopup;","import { useState, useEffect } from \"react\";\n\nimport api from \"../utils/api\";\n\nimport Footer from \"./Footer\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\n\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nimport CurrentUserContext from \"./../contexts/CurrentUserContext\";\n\nconst App = () => {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [cards, setCards] = useState([]);\n\n  const [currentUser, setCurrentUser] = useState({});\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard({});\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((own) => own._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n      setCards((state) => state.map((c) => (c._id === card._id ? newCard : c)));\n    });\n  };\n\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id).then(() => {\n      setCards((state) => state.filter((c) => c._id !== card._id));\n    });\n  };\n\n  const handleUpdateUser = ({ name, about }) => {\n    api.editUser({ name, about }).then((newUser) => {\n      setCurrentUser(newUser);\n      closeAllPopups();\n    });\n  };\n\n  const handleUpdateAvatar = ({ avatar }) => {\n    api.updateAvatar(avatar).then((newUser) => {\n      setCurrentUser(newUser);\n      closeAllPopups();\n    });\n  };\n\n  const handleAddPlaceCard = ({ name, link }) => {\n    api.addNewCard({ name, link }).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    });\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const userInfo = await api.getUser();\n        setCurrentUser(userInfo);\n\n        const cards = await api.getInitialCards();\n        setCards(cards);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <Header />\n\n          <Main\n            cards={cards}\n            onEditProfile={() => setIsEditProfilePopupOpen(true)}\n            onEditAvatar={() => setIsEditAvatarPopupOpen(true)}\n            onAddPlace={() => setIsAddPlacePopupOpen(true)}\n            onCardClick={handleCardClick}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Footer />\n        </div>\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onUpdateUser={handleUpdateUser}\n          onClose={closeAllPopups}\n        />\n\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onUpdateAvatar={handleUpdateAvatar}\n          onClose={closeAllPopups}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onAddCard={handleAddPlaceCard}\n          onClose={closeAllPopups}\n        />\n\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}